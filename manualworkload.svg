<svg viewBox="0 0 1200 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="600" fill="#ffffff"/>
  
  <!-- AWS EC2 External System -->
  <rect x="50" y="50" width="120" height="60" rx="10" fill="none" stroke="#000" stroke-width="2"/>
  <text x="110" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#000">
    AWS EC2
  </text>
  <text x="110" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#000">
    x.18
  </text>
  
  <!-- Codon Monitor -->
  <rect x="250" y="30" width="180" height="40" rx="5" fill="none" stroke="#000" stroke-width="1"/>
  <text x="340" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#000">
    Codon monitors AWS EC2 instances
  </text>
  
  <!-- REST API Call -->
  <rect x="250" y="80" width="180" height="40" rx="5" fill="none" stroke="#000" stroke-width="1"/>
  <text x="340" y="100" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#000">
    REST API call to
  </text>
  <text x="340" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#000">
    ServiceNow
  </text>
  
  <!-- ServiceNow Scoped App Box -->
  <rect x="50" y="160" width="1100" height="280" rx="10" fill="none" stroke="#000" stroke-width="2"/>
  <text x="70" y="185" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#000">
    ServiceNow Scoped Application
  </text>
  
  <!-- Custom EC2 Status Table -->
  <rect x="80" y="200" width="300" height="60" rx="5" fill="none" stroke="#000" stroke-width="1"/>
  <text x="230" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#000">
    Custom EC2 Status Table
  </text>
  <text x="230" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#000">
    (in scoped app: x_sc2_mgmt_ec2_status)
  </text>
  <text x="230" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#000">
    Record updated: status = 'shutdown/failing/error'
  </text>
  
  <!-- Flow Designer Workflow Trigger -->
  <rect x="420" y="200" width="200" height="60" rx="5" fill="none" stroke="#000" stroke-width="1"/>
  <text x="520" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#000">
    Flow Designer Workflow Trigger
  </text>
  
  <!-- Workflow Steps -->
  <!-- Step 1 -->
  <rect x="80" y="290" width="180" height="40" rx="5" fill="none" stroke="#000" stroke-width="1"/>
  <text x="170" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#000">
    1. Create Incident record
  </text>
  <text x="170" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#000">
    (cross-scope to Global incident table)
  </text>
  
  <!-- Step 2 -->
  <rect x="280" y="290" width="180" height="40" rx="5" fill="none" stroke="#000" stroke-width="1"/>
  <text x="370" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#000">
    2. RAG Retrieval suggestion
  </text>
  
  <!-- Step 3 -->
  <rect x="480" y="290" width="180" height="40" rx="5" fill="none" stroke="#000" stroke-width="1"/>
  <text x="570" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#000">
    3. Send Slack notification:
  </text>
  <text x="570" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#000">
    'Found remediation docs: [KB articles]'
  </text>
  
  <!-- Step 4 -->
  <rect x="280" y="360" width="180" height="40" rx="5" fill="none" stroke="#000" stroke-width="1"/>
  <text x="370" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#000">
    4. Manual trigger of Script or
  </text>
  <text x="370" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#000">
    Business rule to Call Codon API
  </text>
  <text x="370" y="395" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#000">
    to trigger remediation
  </text>
  
  <!-- Step 5 -->
  <rect x="480" y="360" width="180" height="40" rx="5" fill="none" stroke="#000" stroke-width="1"/>
  <text x="570" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#000">
    5. Manual Update incident
  </text>
  
  <!-- Slack External System -->
  <rect x="750" y="290" width="80" height="40" rx="5" fill="none" stroke="#000" stroke-width="2"/>
  <text x="790" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#000">
    Slack
  </text>
  
  <!-- Arrows -->
  <!-- AWS to Codon Monitor -->
  <path d="M 170 80 L 250 50" fill="none" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Codon Monitor to REST API -->
  <path d="M 340 70 L 340 80" fill="none" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- REST API to ServiceNow -->
  <path d="M 340 120 L 340 160" fill="none" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Table to Flow Trigger -->
  <path d="M 380 230 L 420 230" fill="none" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Flow steps horizontal arrows -->
  <path d="M 260 310 L 280 310" fill="none" stroke="#000" stroke-width="1" marker-end="url(#arrowhead)"/>
  <path d="M 460 310 L 480 310" fill="none" stroke="#000" stroke-width="1" marker-end="url(#arrowhead)"/>
  
  <!-- Step 3 to Slack -->
  <path d="M 660 310 L 750 310" fill="none" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Vertical arrows from step 2 to step 4 -->
  <path d="M 370 330 L 370 360" fill="none" stroke="#000" stroke-width="1" marker-end="url(#arrowhead)"/>
  
  <!-- Step 4 to Step 5 -->
  <path d="M 460 380 L 480 380" fill="none" stroke="#000" stroke-width="1" marker-end="url(#arrowhead)"/>
  
  <!-- Current System Limitations -->
  <text x="900" y="220" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#000">
    Current System Issues
  </text>
  
  <circle cx="920" cy="240" r="3" fill="#000"/>
  <text x="935" y="245" font-family="Arial, sans-serif" font-size="11" fill="#000">
    Manual intervention required
  </text>
  
  <circle cx="920" cy="260" r="3" fill="#000"/>
  <text x="935" y="265" font-family="Arial, sans-serif" font-size="11" fill="#000">
    DevOps must act on KB articles
  </text>
  
  <circle cx="920" cy="280" r="3" fill="#000"/>
  <text x="935" y="285" font-family="Arial, sans-serif" font-size="11" fill="#000">
    Delayed response times
  </text>
  
  <circle cx="920" cy="300" r="3" fill="#000"/>
  <text x="935" y="305" font-family="Arial, sans-serif" font-size="11" fill="#000">
    No autonomous remediation
  </text>
  
  <!-- Process Flow Labels -->
  <text x="50" y="480" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#000">
    Current Workflow Process
  </text>
  
  <text x="50" y="505" font-family="Arial, sans-serif" font-size="12" fill="#000">
    1. External monitoring detects EC2 failure
  </text>
  <text x="50" y="520" font-family="Arial, sans-serif" font-size="12" fill="#000">
    2. Status update triggers workflow in ServiceNow
  </text>
  <text x="50" y="535" font-family="Arial, sans-serif" font-size="12" fill="#000">
    3. Incident created + KB articles sent to Slack
  </text>
  <text x="50" y="550" font-family="Arial, sans-serif" font-size="12" fill="#000">
    4. DevOps team manually executes remediation
  </text>
  
  <!-- Arrow definitions -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#000"/>
    </marker>
  </defs>
</svg>